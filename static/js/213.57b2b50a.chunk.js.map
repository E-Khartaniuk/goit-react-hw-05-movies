{"version":3,"file":"static/js/213.57b2b50a.chunk.js","mappings":"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","sources":["components/getMovieData.js","webpack://react-homework-template/./src/components/Movies.module.css?76c1","pages/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import axios from 'axios';\nconst API = '6586f18679356ff078f894039b823aea';\n\nexport function getTrendMovieData() {\n  const response = axios.get(\n    `https://api.themoviedb.org/3/trending/all/day?api_key=${API}`\n  );\n  return response;\n}\n\nexport function getMovieDataById(movieId) {\n  const response = axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API}`\n  );\n  return response;\n}\n\nexport function getMovieDataByRequest(query) {\n  const response = axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API}&query=${query}`\n  );\n\n  return response;\n}\n\nexport function getMovieCast(movieId) {\n  const response = axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API}`\n  );\n\n  return response;\n}\n\nexport function getMovieReviews(movieId) {\n  const response = axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API}`\n  );\n\n  return response;\n}\n\n// export default {\n//   getTrendMovieData,\n//   getMovieDataById,\n//   getMovieDataByRequest,\n//   getMovieCast,\n//   getMovieReviews,\n// };\n\nconst api = {\n  getTrendMovieData,\n  getMovieDataById,\n  getMovieDataByRequest,\n  getMovieCast,\n  getMovieReviews,\n};\n\nexport default api;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchInput\":\"Movies_searchInput__x5Ak2\",\"cardImg\":\"Movies_cardImg__BQYcV\",\"card\":\"Movies_card__DaMq5\",\"filmList\":\"Movies_filmList__V6od2\"};","import { getMovieDataByRequest } from 'components/getMovieData';\nimport React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nimport css from 'components/Movies.module.css';\n\nexport default function Movies() {\n  const [loading, setLoading] = useState(false);\n  const [searchMoviesData, setSearchMoviesData] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchValue = searchParams.get('searchValue') ?? '';\n  const location = useLocation();\n\n  useEffect(() => {\n    getMovieDataByRequest(searchValue).then(res =>\n      setSearchMoviesData(res.data.results)\n    );\n  }, [searchValue]);\n\n  const fetchData = async (event, searchValue) => {\n    event.preventDefault();\n    setLoading(true);\n    try {\n      await getMovieDataByRequest(searchValue).then(res =>\n        setSearchMoviesData(res.data.results)\n      );\n\n      setLoading(false);\n    } catch (error) {\n      console.log('Error fetching movie data:', error);\n    }\n  };\n\n  const updateQueryString = event => {\n    if (event.target.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ searchValue: event.target.value });\n  };\n\n  return (\n    <div>\n      {loading && <div>Loading...</div>}\n\n      <form onSubmit={event => fetchData(event, searchValue)}>\n        <input\n          value={searchValue}\n          className={css.searchInput}\n          onChange={updateQueryString}\n        />\n        <button type=\"submit\" className=\"searchBtn\">\n          Search\n        </button>\n      </form>\n      <ul className={css.filmList}>\n        {searchMoviesData &&\n          searchMoviesData.map(movie => {\n            return (\n              <Link\n                to={`${movie.id}`}\n                key={movie.id}\n                state={{ from: location }}\n              >\n                <li className={css.card}>\n                  <img\n                    src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n                    alt={movie.overview}\n                    className={css.cardImg}\n                  />\n                  <h5> {movie.title}</h5>\n                </li>\n              </Link>\n            );\n          })}\n      </ul>\n    </div>\n  );\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["API","getTrendMovieData","axios","getMovieDataById","movieId","getMovieDataByRequest","query","getMovieCast","getMovieReviews","Movies","useState","loading","setLoading","searchMoviesData","setSearchMoviesData","useSearchParams","searchParams","setSearchParams","searchValue","get","location","useLocation","useEffect","then","res","data","results","fetchData","event","preventDefault","console","log","onSubmit","value","className","css","onChange","target","type","map","movie","to","id","state","from","src","poster_path","alt","overview","title","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}